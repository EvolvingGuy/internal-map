# 요구사항 (REQUIREMENT.md)

프로젝트의 비즈니스 요구사항과 줌 레벨 기반 클러스터링 전략을 정의합니다.

---

## 줌 레벨별 클러스터링 전략

| Zoom    | Cluster Type | Display      |
|---------|--------------|--------------|
| 00 ~ 11 | SD (LSRC)    | Static       | 시도 고정형 클러스터
| 12 ~ 14 | SGG (LSRC)   | Static       | 시군구 고정형 클러스터
| 15 ~ 16 | EMD (LDRC)   | Dynamic      | 읍면동 가변형 클러스터, 500개 이하 시 마커 (점)
| 17 ~    | GRID (LC)    | Dynamic      | 그리드 클러스터, 500개 이하 시 마커 (폴리곤)

### 클러스터 유형
- **Static (LSRC)**: 뷰포트 무관, 행정구역 전체 집계
- **Dynamic (LDRC)**: H3 기반, 뷰포트에 걸친 영역만 집계
- **Grid (LC)**: 픽셀 그리드 기반, 필터 적용 가능

---

## ES 인덱스 요약

| Index                        | Abbr | Filter | Doc Count   |
|------------------------------|------|--------|-------------|
| land_static_region_cluster   | LSRC | X      | ~5,000      | 행정구역 정적 클러스터
| land_dynamic_region_cluster  | LDRC | X      | ~5,000,000  | H3 기반 동적 클러스터
| land_compact                 | LC   | O      | ~38,000,000 | 필지 단위 (비즈니스 필터)

> 상세 인덱스 스펙: [ES_OVERVIEW.md](ES_OVERVIEW.md) 참조
> 개별 인덱스 문서: `es/index/` 디렉토리 참조

---

## 필터 구분

| Category |
|----------|
| Setting  | 위경도 (bbox), 클러스터 레벨
| Business | 건물, 토지, 실거래 관련 필터 (LC 전용)

### 비즈니스 필터 적용 범위
- **LSRC/LDRC**: 필터 없음 (전체 필지 대상)
- **LC**: 필터 적용 가능 (LcAggFilter)

> 필터 상세 스펙: [ES_OVERVIEW.md - LcAggFilter](ES_OVERVIEW.md#lcaggfilter-공통-필터) 참조

---

## 코드 참조 (Enum)

### LandJimok (지목)
| Code | Label   |
|------|---------|
| 01   | 전       |
| 02   | 답       |
| 03   | 과수원     |
| 04   | 목장용지    |
| 05   | 임야      |
| 06   | 광천지     |
| 07   | 염전      |
| 08   | 대       |
| 09   | 공장용지    |
| 10   | 학교용지    |
| 11   | 주차장     |
| 12   | 주유소용지   |
| 13   | 창고용지    |
| 14   | 도로      |
| 15   | 철도용지    |
| 16   | 제방      |
| 17   | 하천      |
| 18   | 구거      |
| 19   | 유지      |
| 20   | 양어장     |
| 21   | 수도용지    |
| 22   | 공원      |
| 23   | 체육용지    |
| 24   | 유원지     |
| 25   | 종교용지    |
| 26   | 사적지     |
| 27   | 묘지      |
| 28   | 잡종지     |

### LandJiyuk1 (용도지역)
| Code | Label        |
|------|--------------|
| 11   | 제1종전용주거지역    |
| 12   | 제2종전용주거지역    |
| 13   | 제1종일반주거지역    |
| 14   | 제2종일반주거지역    |
| 15   | 제3종일반주거지역    |
| 16   | 준주거지역        |
| 21   | 중심상업지역       |
| 22   | 일반상업지역       |
| 23   | 근린상업지역       |
| 24   | 유통상업지역       |
| 31   | 전용공업지역       |
| 32   | 일반공업지역       |
| 33   | 준공업지역        |
| 41   | 보전녹지지역       |
| 42   | 생산녹지지역       |
| 43   | 자연녹지지역       |
| 44   | 개발제한구역       |
| 51   | 용도미지정지역      |
| 61   | 관리지역         |
| 62   | 보전관리지역       |
| 63   | 생산관리지역       |
| 64   | 계획관리지역       |
| 71   | 농림지역         |
| 81   | 자연환경보전지역     |
